<div class="bel-container">
  <div class="bel-card">
    
    <!-- Header avec logo -->
    <div class="bel-auth-header">
      <app-logo size="medium"></app-logo>
    </div>

    <!-- Titre et instructions -->
    <div style="margin-bottom: var(--bel-spacing-xl);">
      <h2 class="bel-title" style="text-align: left; font-size: 28px; margin-bottom: var(--bel-spacing-sm);">
        Quelle est votre nationalit√© ?
      </h2>
      <p class="bel-subtitle" style="text-align: left; margin-bottom: 0;">
        Cette information nous aide √† vous connecter √† votre communaut√© africaine.
      </p>
    </div>

    <!-- Formulaire de s√©lection -->
    <form [formGroup]="nationalityForm" (ngSubmit)="onSubmit()">
      
      <!-- S√©lection de la nationalit√© - VERSION LISTE D√âROULANTE -->
      <div style="margin-bottom: var(--bel-spacing-xl);">
        <label style="display: block; margin-bottom: var(--bel-spacing-sm); font-weight: 600;">
          S√©lectionnez votre nationalit√©
        </label>
        
        <!-- Container personnalis√© pour le select -->
        <div class="bel-select-container">
          <select 
            formControlName="nationality"
            class="bel-select"
            (change)="onNationalityChange()"
            [class.selected]="nationalityForm.get('nationality')?.value">
            
            <option value="">-- Choisissez votre nationalit√© --</option>
            <option 
              *ngFor="let country of africanCountries" 
              [value]="country.code"
              [attr.data-flag]="country.flag">
              {{ country.flag }} {{ country.name }}
            </option>
          </select>
          
          <!-- Ic√¥ne fl√®che personnalis√©e -->
          <div class="bel-select-arrow">‚ñº</div>
        </div>

        <!-- Aper√ßu de la s√©lection -->
        <div 
          *ngIf="nationalityForm.get('nationality')?.value" 
          class="bel-selection-preview">
          <span class="bel-preview-flag">{{ selectedCountryFlag }}</span>
          <span class="bel-preview-text">Nationalit√© s√©lectionn√©e : <strong>{{ selectedCountryName }}</strong></span>
        </div>

        <!-- Message d'erreur -->
        <small 
          *ngIf="nationalityForm.get('nationality')?.invalid && nationalityForm.get('nationality')?.touched" 
          class="bel-error-message">
          ‚ö†Ô∏è Veuillez s√©lectionner votre nationalit√©
        </small>
      </div>

      <!-- Pays de r√©sidence d√©tect√© -->
      <div *ngIf="detectedCountry" class="bel-detected-country">
        <div class="bel-country-badge">
          <span class="bel-badge-icon">üåç</span>
          <span class="bel-badge-text">
            <strong>Pays de r√©sidence :</strong> {{ detectedCountry }}
          </span>
        </div>
        
        <!-- Information importante -->
        <div class="bel-info-box">
          <p style="margin: 0; font-size: 13px; color: var(--bel-dark);">
            üí° <strong>Votre communaut√© :</strong> Vous rejoindrez automatiquement la communaut√© 
            <strong>{{ selectedCountryName || '...[nationalit√©]' }}</strong> 
            r√©sidant en <strong>{{ detectedCountry }}</strong>
          </p>
        </div>
      </div>

      <!-- Boutons -->
      <div class="bel-buttons-container">
        <button 
          type="submit" 
          class="bel-btn-primary"
          [disabled]="!nationalityForm.valid || isLoading">
          <span *ngIf="!isLoading">Cr√©er mon compte</span>
          <span *ngIf="isLoading">Cr√©ation en cours...</span>
        </button>

        <button 
          type="button" 
          class="bel-btn-secondary"
          (click)="goBack()">
          ‚Üê Retour √† la v√©rification
        </button>
      </div>

    </form>
  </div>
</div>