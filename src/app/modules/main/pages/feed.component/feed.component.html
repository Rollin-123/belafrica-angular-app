<div class="app-layout">
    <main class="app-main-content">
    <div class="feed-container">
      
      <!-- En-tête communauté -->
      <div class="community-header">
        <h2>Fil d'actualité</h2>
        <p class="community-name">Votre communauté : {{ userCommunity }}</p>
      </div>

      <!-- Posts -->
      <div *ngFor="let post of posts" class="post-card" [class.admin-post]="post.isAdmin">
        <div class="post-header">
          <div class="post-avatar">{{ post.avatar }}</div>
          <div class="post-info">
            <div class="post-author">
              {{ post.author }}
              <span *ngIf="post.isAdmin" class="admin-badge">👑 Admin</span>
            </div>
            <div class="post-time">
              <!-- ✅ CORRECTION : Utilisez getTimeAgo() -->
              {{ getTimeAgo(post) }} • 
              <span class="expiration" [class.expiring]="getExpirationTime(post).includes('h')">
                ⏰ {{ getExpirationTime(post) }}
              </span>
            </div>
          </div>
        </div>

        <div class="post-content">
          <p>{{ post.content }}</p>
        </div>

        <div class="post-actions">
          <button (click)="likePost(post.id)" class="action-btn">
            ❤️ {{ post.likes }} J'aime
          </button>
        </div>
      </div>

      <!-- Message si aucun post -->
      <div *ngIf="posts.length === 0" class="info-message">
        <p>📭 Aucune publication pour le moment</p>
        <p>Votre communauté {{ userCommunity }} sera bientôt active !</p>
      </div>

      <!-- Message temporaire -->
      <div *ngIf="posts.length > 0" class="info-message">
        <p>🚀 L'application est en cours de développement</p>
        <p>La segmentation des communautés est active !</p>
      </div>

    </div>
  </main>
</div>